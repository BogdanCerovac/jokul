{"version":3,"sources":["webpack:///../packages/select-react/src/useListNavigation.ts","webpack:///../packages/select-react/src/ExpandArrow.tsx","webpack:///../packages/select-react/src/Select.tsx","webpack:///../packages/select-react/src/NativeSelect.tsx","webpack:///../packages/select-react/documentation/Example.tsx","webpack:///../packages/select-react/documentation/Select.mdx"],"names":["handleMoveTo","direction","event","list","currentFocus","preventDefault","current","thisLI","parentElement","prevLI","previousElementSibling","prevItem","querySelector","focus","nextLI","nextElementSibling","nextItem","firstItem","listItems","querySelectorAll","length","moveFocusTo","handleListKeyNav","moveFunction","search","searchResetTimer","key","moveDetails","target","undefined","searchResult","keys","concat","timer","clearTimeout","setTimeout","resetWhenIdle","n","label","innerText","toLowerCase","indexOf","findItem","ExpandArrow","expanded","className","componentClassName","classNames","viewBox","fill","xmlns","d","toLower","str","replace","Select","id","items","value","onChange","onBlur","onFocus","helpLabel","errorLabel","inline","defaultPrompt","variant","forceCompact","inverted","width","selectProps","useState","selectedValue","setSelectedValue","internalFocus","setInternalFocus","hasSelectedValue","getLabelFromValue","useCallback","matchingItem","map","getValuePair","filter","item","displayedValue","setDisplayedValue","dropdownIsShown","setShown","listId","nanoid","listRef","typeAheadIsEnabled","useRef","useEffect","addEventListener","removeEventListener","useListNavigation","elementRef","useAnimatedHeight","data-testid","style","srOnly","type","aria-haspopup","ref","role","popup","hidden","onToggle","opening","listElement","listEl","selected","focusedItem","focusSelected","onToggleSelect","e","detail","nextValue","textContent","button","aria-activedescendant","tabIndex","i","aria-selected","data-testautoid","NativeSelect","forwardRef","placeholder","defaultValue","uid","standAlone","htmlFor","disabled","Example","boolValues","choiceValues","C","setValue","input","console","log","_frontmatter","makeShortcode","name","props","warn","Ingress","ComponentExample","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","component","knobs","boolProps","choiceProps","values","parentName","isMDXComponent"],"mappings":"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","file":"component---packages-select-react-documentation-select-mdx-9368b4495de9013c5582.js","sourcesContent":["import { useRef, useEffect, RefObject } from \"react\";\n\ntype Timer = NodeJS.Timeout | undefined;\ntype KeyBuffer = { keys: string } | undefined;\ntype Direction = \"prev\" | \"next\" | \"first\" | \"last\";\ninterface MoveDetails {\n    event: KeyboardEvent;\n    list: HTMLUListElement;\n    currentFocus: HTMLButtonElement;\n}\ninterface ListDetails {\n    list: HTMLUListElement;\n    search: KeyBuffer;\n    searchResetTimer: Timer;\n}\ninterface SearchDetails extends ListDetails {\n    key: string;\n}\ninterface EventDetails extends ListDetails {\n    event: KeyboardEvent;\n}\n\nexport function useListNavigation(typeAheadIsEnabled = true): RefObject<HTMLUListElement> {\n    const listRef = useRef<HTMLUListElement>(null);\n    let search: KeyBuffer;\n    let searchResetTimer: Timer;\n    if (typeAheadIsEnabled) {\n        search = { keys: \"\" }; // keypress buffer is object to preserve state\n    }\n    useEffect(() => {\n        const list = listRef.current;\n        if (list) {\n            list.addEventListener(\"keydown\", (event) => handleListKeyNav({ list, event, search, searchResetTimer }));\n        }\n        return () => {\n            if (list) {\n                list.removeEventListener(\"keydown\", (event) =>\n                    handleListKeyNav({ list, event, search, searchResetTimer }),\n                );\n            }\n        };\n    }, [search, searchResetTimer]);\n\n    return listRef;\n}\n\nfunction handleMoveTo(direction: Direction, { event, list, currentFocus }: MoveDetails) {\n    event.preventDefault();\n    moveFocusTo(direction, list, currentFocus);\n}\n\nfunction handleListKeyNav({ list, event, search, searchResetTimer }: EventDetails, moveFunction = handleMoveTo) {\n    const { key, target } = event;\n    const currentFocus = target as HTMLButtonElement;\n\n    const moveDetails = {\n        event,\n        list,\n        currentFocus,\n    };\n\n    switch (key) {\n        case \"ArrowUp\" || \"PageUp\":\n            moveFunction(\"prev\", moveDetails);\n            break;\n        case \"ArrowDown\" || \"PageDown\":\n            moveFunction(\"next\", moveDetails);\n            break;\n        case \"Home\":\n            moveFunction(\"first\", moveDetails);\n            break;\n        case \"End\":\n            moveFunction(\"last\", moveDetails);\n            break;\n        case \"Tab\":\n            // in a standard select, tab does nothing in-menu\n            event.preventDefault();\n            break;\n        case \"Enter\" || \" \":\n            break;\n\n        default:\n            if (search !== undefined) {\n                const searchResult = findItem({ list, key, search, searchResetTimer });\n                if (searchResult) {\n                    searchResult.focus();\n                }\n            }\n            break;\n    }\n}\n\nfunction moveFocusTo(direction: Direction, list: HTMLUListElement, current: HTMLButtonElement) {\n    const thisLI = current.parentElement;\n    switch (direction) {\n        case \"prev\":\n            const prevLI = thisLI && thisLI.previousElementSibling;\n            if (prevLI) {\n                const prevItem = prevLI.querySelector<HTMLButtonElement>(`[role=\"option\"]`);\n                if (prevItem) {\n                    prevItem.focus();\n                }\n            }\n            break;\n        case \"next\":\n            const nextLI = thisLI && thisLI.nextElementSibling;\n            if (nextLI) {\n                const nextItem = nextLI.querySelector<HTMLButtonElement>(`[role=\"option\"]`);\n                if (nextItem) {\n                    nextItem.focus();\n                }\n            }\n            break;\n        case \"first\":\n            const firstItem = list.querySelector<HTMLButtonElement>(`[role=\"option\"]`);\n            if (firstItem) {\n                firstItem.focus();\n            }\n            break;\n        case \"last\":\n            const listItems = list.querySelectorAll<HTMLButtonElement>(`[role=\"option\"]`);\n            if (listItems.length) {\n                listItems[listItems.length - 1].focus();\n            }\n            break;\n    }\n}\n\nfunction findItem({ list, key, search, searchResetTimer }: SearchDetails): HTMLButtonElement | null {\n    const listItems = list.querySelectorAll(`[role=\"option\"]`);\n    if (!listItems.length) return null;\n\n    if (search) {\n        search.keys = search.keys.concat(key);\n        resetWhenIdle(search, searchResetTimer);\n\n        for (let n = 0; n < listItems.length; n++) {\n            const label = (listItems[n] as HTMLButtonElement).innerText;\n            if (label && label.toLowerCase().indexOf(search.keys) === 0) {\n                return listItems[n] as HTMLButtonElement;\n            }\n        }\n    }\n\n    return null;\n}\n\nfunction resetWhenIdle(search: KeyBuffer, timer: Timer) {\n    if (timer) {\n        clearTimeout(timer);\n        timer = undefined;\n    }\n    timer = setTimeout(\n        () => {\n            search ? (search.keys = \"\") : (search = { keys: \"\" });\n            timer = undefined;\n        },\n        500,\n        search,\n        timer,\n    );\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\n\ninterface Props {\n    className?: string;\n    expanded?: boolean;\n}\n\nexport function ExpandArrow({ expanded = false, className }: Props) {\n    const componentClassName = classNames(\n        {\n            \"jkl-expand-arrow\": true,\n            \"jkl-expand-arrow--expanded\": expanded,\n        },\n        className,\n    );\n    return (\n        <span className={componentClassName}>\n            <svg className=\"jkl-expand-arrow__down\" viewBox=\"0 0 13 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                    d=\"M6.90762 13.8828L11.9272 8.86326L12.7093 9.64537L6.35463 16L-1.68645e-06 9.64536L0.782101 8.86326L5.80156 13.8827L5.80156 1.01438e-06L6.90762 1.20777e-06L6.90762 13.8828Z\"\n                    fill=\"currentColor\"\n                />\n            </svg>\n            <svg className=\"jkl-expand-arrow__up\" viewBox=\"0 0 13 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                    d=\"M5.80163 2.1172L0.78209 7.13674L-1.29938e-05 6.35464L6.35462 5.14415e-08L12.7093 6.35464L11.9272 7.13674L6.90769 2.11728L6.9077 16L5.80163 16L5.80163 2.1172Z\"\n                    fill=\"currentColor\"\n                />\n            </svg>\n        </span>\n    );\n}\n","// @ts-ignore: wait for core-components to expose types\nimport CoreToggle from \"@nrk/core-toggle/jsx\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport { Label, LabelVariant, SupportLabel, ValuePair, getValuePair, DataTestAutoId } from \"@fremtind/jkl-core\";\nimport { useAnimatedHeight } from \"@fremtind/jkl-react-hooks\";\nimport { useListNavigation } from \"./useListNavigation\";\nimport classNames from \"classnames\";\n\nimport { ExpandArrow } from \"./ExpandArrow\";\n\ntype SelectEventHandler = (value?: string) => void;\n\ninterface Props extends DataTestAutoId {\n    id?: string;\n    label: string;\n    items: Array<string | ValuePair>;\n    inline?: boolean;\n    defaultPrompt?: string;\n    className?: string;\n    value?: string;\n    helpLabel?: string;\n    errorLabel?: string;\n    variant?: LabelVariant;\n    forceCompact?: boolean;\n    inverted?: boolean;\n    width?: string;\n    onChange?: SelectEventHandler;\n    onBlur?: SelectEventHandler;\n    onFocus?: SelectEventHandler;\n}\n\ninterface CoreToggleSelectEvent {\n    detail: { textContent: string; value: string };\n    target: { hidden: boolean; button: HTMLButtonElement; value: { textContent: string } };\n}\n\nfunction toLower(str = \"\") {\n    return str.toLowerCase().replace(/[\\W_]+/g, \"\"); // strip all non-alphanumeric chars\n}\n\nfunction focusSelected(listEl: HTMLElement, listId: string, selected: string | undefined) {\n    let focusedItem: HTMLElement | null;\n    if (selected !== undefined) {\n        // move focus to selected option\n        focusedItem = listEl.querySelector(`#${listId}__${toLower(selected)}`);\n    } else {\n        // move focus to first option\n        focusedItem = listEl.querySelector('[role=\"option\"]');\n    }\n    focusedItem && focusedItem.focus();\n}\n\nexport function Select({\n    id,\n    items,\n    value,\n    label,\n    onChange,\n    onBlur,\n    onFocus,\n    className,\n    helpLabel,\n    errorLabel,\n    inline = false,\n    defaultPrompt = \"Velg\",\n    variant,\n    forceCompact,\n    inverted,\n    width,\n    ...selectProps\n}: Props) {\n    const [selectedValue, setSelectedValue] = useState(value);\n    const [internalFocus, setInternalFocus] = useState(false);\n    const hasSelectedValue = typeof selectedValue !== \"undefined\" && selectedValue !== \"\";\n\n    const getLabelFromValue = useCallback(\n        (value: string | undefined) => {\n            const matchingItem = items.map(getValuePair).filter((item) => item.value === value)[0];\n            return matchingItem && matchingItem.label;\n        },\n        [items],\n    );\n    const [displayedValue, setDisplayedValue] = useState(getLabelFromValue(value));\n\n    const [dropdownIsShown, setShown] = useState(false);\n    const [listId] = useState(id || `jkl-select-${nanoid(8)}`);\n    const listRef = useListNavigation();\n    const componentClassName = classNames(\"jkl-select\", className, {\n        \"jkl-select--inline\": inline,\n        \"jkl-select--compact\": forceCompact,\n        \"jkl-select--inverted\": inverted,\n        \"jkl-select--open\": dropdownIsShown,\n        \"jkl-select--no-value\": !hasSelectedValue,\n        \"jkl-select--invalid\": !!errorLabel,\n    });\n\n    function onToggle() {\n        const opening = !dropdownIsShown;\n        setShown(!dropdownIsShown);\n        if (opening) {\n            const listElement = listRef.current;\n            listElement && focusSelected(listElement, listId, selectedValue);\n        }\n    }\n\n    function onToggleSelect(e: CoreToggleSelectEvent) {\n        e.target.value = e.detail;\n        const nextValue = e.detail.value;\n        setDisplayedValue(e.detail.textContent);\n        setSelectedValue(nextValue);\n        onChange && onChange(nextValue);\n        e.target.hidden = true;\n        setInternalFocus(true);\n        e.target.button.focus();\n    }\n\n    function handleBlur() {\n        if (!dropdownIsShown && onBlur) {\n            onBlur(value);\n        }\n    }\n\n    function handleFocus() {\n        if (onFocus && !internalFocus) {\n            onFocus(value);\n        }\n        setInternalFocus(false);\n    }\n\n    useEffect(() => {\n        setSelectedValue(value);\n        setDisplayedValue(getLabelFromValue(value));\n    }, [value, items, getLabelFromValue]);\n\n    const [elementRef] = useAnimatedHeight(dropdownIsShown);\n\n    return (\n        <div data-testid=\"jkl-select\" className={componentClassName} style={{ width }} {...selectProps}>\n            <Label variant={variant} forceCompact={forceCompact} srOnly={inline}>\n                {label}\n            </Label>\n            <div className=\"jkl-select__outer-wrapper\">\n                <button\n                    type=\"button\"\n                    className=\"jkl-select__button\"\n                    data-testid=\"jkl-select__button\"\n                    aria-haspopup=\"listbox\"\n                    onBlur={handleBlur}\n                    onFocus={handleFocus}\n                >\n                    {hasSelectedValue ? displayedValue : defaultPrompt}\n                </button>\n                <CoreToggle\n                    id={listId}\n                    ref={elementRef}\n                    role=\"listbox\"\n                    className=\"jkl-select__options-menu\"\n                    popup={label}\n                    hidden={!dropdownIsShown}\n                    onToggle={onToggle}\n                    onToggleSelect={onToggleSelect}\n                    aria-activedescendant={hasSelectedValue && `${listId}__${toLower(selectedValue)}`}\n                >\n                    <ul\n                        className=\"jkl-select__option-wrapper\"\n                        data-testid=\"jkl-select__option-wrapper\"\n                        tabIndex={-1}\n                        ref={listRef}\n                    >\n                        {items.map(getValuePair).map((item, i) => (\n                            <li key={item.value}>\n                                <button\n                                    type=\"button\"\n                                    id={`${listId}__${toLower(item.value)}`}\n                                    className=\"jkl-select__option\"\n                                    data-testid=\"jkl-select__option\"\n                                    aria-selected={item.value === selectedValue}\n                                    role=\"option\"\n                                    value={item.value}\n                                    data-testautoid={`jkl-select__option-${i}`}\n                                >\n                                    {item.label}\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </CoreToggle>\n                <ExpandArrow className=\"jkl-select__arrow\" expanded={dropdownIsShown} />\n            </div>\n            <SupportLabel\n                inverted={inverted}\n                helpLabel={helpLabel}\n                errorLabel={errorLabel}\n                forceCompact={forceCompact}\n            />\n        </div>\n    );\n}\n","/* eslint \"jsx-a11y/no-onchange\": 0 */\n\nimport React, { FocusEventHandler, ChangeEventHandler, useState, forwardRef } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport { Label, LabelVariant, SupportLabel, ValuePair, getValuePair } from \"@fremtind/jkl-core\";\nimport classNames from \"classnames\";\n\nimport { ExpandArrow } from \"./ExpandArrow\";\n\ninterface Props {\n    id?: string;\n    label: string;\n    items: Array<string | ValuePair>;\n    className?: string;\n    inline?: boolean;\n    helpLabel?: string;\n    errorLabel?: string;\n    variant?: LabelVariant;\n    placeholder?: string;\n    value?: string;\n    forceCompact?: boolean;\n    inverted?: boolean;\n    onChange?: ChangeEventHandler<HTMLSelectElement>;\n    onFocus?: FocusEventHandler<HTMLSelectElement>;\n    onBlur?: FocusEventHandler<HTMLSelectElement>;\n}\n\nexport const NativeSelect = forwardRef<HTMLSelectElement, Props>(\n    (\n        {\n            id,\n            label,\n            items,\n            className = \"\",\n            inline = false,\n            helpLabel,\n            errorLabel,\n            variant,\n            placeholder,\n            value,\n            forceCompact,\n            inverted,\n            onChange,\n            onBlur,\n            onFocus,\n        },\n        ref,\n    ) => {\n        // If no value is given, set it to first item, or to empty string if there is a placeholder\n        if (!value) {\n            if (!placeholder && items.length) {\n                value = getValuePair(items[0]).value;\n            }\n        }\n\n        const componentClassName = classNames(\"jkl-select\", className, {\n            \"jkl-select--inline\": inline,\n            \"jkl-select--compact\": forceCompact,\n            \"jkl-select--inverted\": inverted,\n            \"jkl-select--invalid\": !!errorLabel,\n        });\n\n        const defaultValue = value ? undefined : \"\";\n\n        const [uid] = useState(id || `jkl-select-${nanoid(8)}`);\n\n        return (\n            <div data-testid=\"jkl-select\" className={componentClassName}>\n                <Label standAlone htmlFor={uid} variant={variant} forceCompact={forceCompact}>\n                    {label}\n                </Label>\n                <div className=\"jkl-select__outer-wrapper\">\n                    <select\n                        ref={ref}\n                        id={uid}\n                        value={value}\n                        defaultValue={defaultValue}\n                        className=\"jkl-select__button\"\n                        onChange={onChange}\n                        onBlur={onBlur || onChange}\n                        onFocus={onFocus}\n                    >\n                        {placeholder && !value && (\n                            <option disabled value=\"\">\n                                {placeholder}\n                            </option>\n                        )}\n                        {items.map(getValuePair).map((item) => (\n                            <option\n                                data-testid=\"jkl-select__option\"\n                                className=\"jkl-select__option\"\n                                key={item.value}\n                                value={item.value}\n                            >\n                                {item.label}\n                            </option>\n                        ))}\n                    </select>\n                    <ExpandArrow className=\"jkl-select__arrow\" />\n                </div>\n                <SupportLabel helpLabel={helpLabel} errorLabel={errorLabel} forceCompact={forceCompact} />\n            </div>\n        );\n    },\n);\n","import React, { FocusEvent, useState, ChangeEvent } from \"react\";\nimport { ExampleComponentProps } from \"@fremtind/jkl-portal-components\";\nimport { Select, NativeSelect } from \"../src\";\nimport { LabelVariant } from \"@fremtind/jkl-core\";\nimport \"@fremtind/jkl-core/core.min.css\";\nimport \"@fremtind/jkl-select/select.min.css\";\n\nexport const Example = ({ boolValues, choiceValues }: ExampleComponentProps) => {\n    const C = boolValues && boolValues[\"Native\"] ? NativeSelect : Select;\n\n    const values = [\n        { value: \"apple\", label: \"Apple\" },\n        { value: \"samsung\", label: \"Samsung\" },\n        { value: \"huawei\", label: \"Huawei\" },\n        { value: \"LG\", label: \"LG\" },\n    ];\n    const [value, setValue] = useState<string>();\n    const universalSetValue = (input: string | ChangeEvent<HTMLSelectElement> | undefined) => {\n        if (typeof input === \"string\") {\n            setValue(input);\n        } else if (input) {\n            setValue(input.target.value);\n        }\n    };\n\n    const onFocus = (input: string | FocusEvent<HTMLSelectElement> | undefined) => {\n        console.log(\"Focus: \", input);\n    };\n    const onBlur = (input: string | FocusEvent<HTMLSelectElement> | undefined) => {\n        console.log(\"Blur: \", input);\n    };\n\n    const errorLabel = boolValues && boolValues[\"Med feil\"] ? \"Beskrivende feilmelding\" : undefined;\n    const helpLabel = boolValues && boolValues[\"Med hjelpetekst\"] ? \"Hjelpsom beskjed\" : undefined;\n    const variant = choiceValues && (choiceValues[\"Etikettvariant\"] as LabelVariant);\n\n    return (\n        <C\n            forceCompact={boolValues && boolValues[\"Kompakt\"]}\n            inverted={boolValues && boolValues[\"Invertert\"]}\n            variant={variant}\n            label=\"Hvilket merke er telefonen?\"\n            items={values}\n            value={value}\n            helpLabel={helpLabel}\n            errorLabel={errorLabel}\n            onChange={universalSetValue}\n            onBlur={onBlur}\n            onFocus={onFocus}\n        />\n    );\n};\n\nexport default Example;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/jokul/jokul/portal/src/components/Layout/DocPageLayout.tsx\";\nimport { Example } from \"./Example\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Ingress = makeShortcode(\"Ingress\");\nconst ComponentExample = makeShortcode(\"ComponentExample\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Ingress mdxType=\"Ingress\">\n    Vi bruker nedtrekkslister til å gi brukeren en liste med alternativ. Nedtrekkslister passer i de tilfellene det er\n    for mange valg til å bruke radioknapper. Nedtrekkslisten må ha en overskrift, som forteller hva det er brukerne kan\n    velge mellom i listen.\n    </Ingress>\n    <ComponentExample component={Example} knobs={{\n      boolProps: [\"Native\", \"Kompakt\", \"Invertert\", \"Med hjelpetekst\", \"Med feil\"],\n      choiceProps: [{\n        name: \"Etikettvariant\",\n        values: [\"small\", \"medium\", \"large\"],\n        defaultValue: 1\n      }]\n    }} mdxType=\"ComponentExample\" />\n    <p>{`Hvis du trenger en nedtrekksliste med mange valg, kan du også legge inn en søke- eller filtreringsfunksjon.`}</p>\n    <h2>{`Tekst og validering`}</h2>\n    <p>{`Bruk prinsippene for skjemadesign til å velge størrelse på overskriften til listen. Lag en kort og tydelig tekst, som forteller hva det er brukeren skal gjøre i nedtrekkslisten. Eksempel: `}<em parentName=\"p\">{`Velg land`}</em>{`. Hvis det trengs, kan du legge en hjelpetekst under listen for å forklare mer.`}</p>\n    <p>{`Hvis nedtrekkslisten ikke validerer, viser systemet en feilmelding som forklarer hva som er galt. Feilmeldingen erstatter en eventuell hjelpetekst, så den må eventuelt gjenta informasjonen fra hjelpeteksten.`}</p>\n    <p>{`Eksempel:\n`}<strong parentName=\"p\">{`Hjelpetekst`}</strong>{`: `}<em parentName=\"p\">{`Velg landet du var på ferie i da du ble syk`}</em>{`. `}<strong parentName=\"p\">{`Feilmelding`}</strong>{`: `}<em parentName=\"p\">{`Du må velge hvor du var på ferie`}</em>{`.`}</p>\n    <h2>{`Bruk`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Velg årsak eller skadetype (gjerne mange valg)`}</li>\n      <li parentName=\"ul\">{`Velg diagnose (for dyre- eller helseforsikring, gjerne med søkemulighet)`}</li>\n      <li parentName=\"ul\">{`Velg stilling (gjerne med søkemulighet)`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}