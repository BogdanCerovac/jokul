@import "~@fremtind/jkl-core/variables/_all.scss";
@import "~@fremtind/jkl-core/mixins/_all.scss";

$container-width: 716px;
$x-items: 4;
$margins: $x-items - 1;

$item-margin: 16px;
$item-padding: calc(#{$item-margin} / 2);
$item-size: calc(#{$container-width} / #{$x-items} - #{$item-margin} + calc(#{$item-margin} / #{$x-items}));

.jkl-file-upload {
    width: $container-width;
    display: flex;
    flex-direction: column;

    label {
        z-index: 50;
    }

    &__upload-area {
        align-items: center;
        background-color: $hvit;
        cursor: pointer;
        border: 2px dashed $svart;
        display: flex;
        font-size: $font-size-8;
        height: 196px;
        justify-content: center;
        text-align: center;
        transition: background-color 100ms ease-in-out;

        .jkl-link {
            margin-right: rem(7px);
            font-weight: $bold-weight;
        }

        &--is-dragging,
        &:hover {
            background-color: $varde;
        }

        input {
            display: none;
        }
    }

    &__file-list {
        display: flex;
        flex-wrap: wrap;

        &--percent {
            position: absolute;
            top: rem(8px);
            right: rem(8px);
            font-size: $font-size-4;
        }

        &--item {
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            background: $varde;
            height: #{$item-size};
            width: #{$item-size};
            position: relative;
            margin-bottom: rem($item-margin);
            margin-right: rem($item-margin);
            padding-right: #{$item-padding};
            padding-left: #{$item-padding};
            z-index: 1;
            box-sizing: border-box;

            &:nth-child(4n) {
                margin-right: 0;
            }

            &.move {
                &:nth-child(1n + 2) {
                    animation: next-column-rev 2s ease-in-out;
                    z-index: 2;
                }

                &:nth-child(1) {
                    animation: slide-in 2s ease-in-out;
                }

                &:nth-child(4n + 5) {
                    animation: next-row-rev 2s ease-in-out;
                    z-index: 1;
                }
            }

            .jkl-progress-bar {
                &__tracker {
                    height: rem(4px);
                    background-color: $svart;
                }
            }

            img {
                position: absolute;
                height: 100%;
                width: 100%;
                object-fit: cover;
                z-index: 1;
            }
        }
    }

    @keyframes slide-in {
        0% {
            opacity: 0;
            transform: translateY(-100%);
        }

        50% {
            opacity: 1;
        }

        100% {
            transform: translateY(0);
        }
    }

    @keyframes next-row {
        0% {
            transform: translateX(0) translateY(0);
        }

        100% {
            transform: translateX(-300%) translateY(calc(100% + #{$item-margin}));
        }
    }

    @keyframes next-row-rev {
        0% {
            transform: translateX(calc(300% + calc(#{$item-margin} * 3))) translateY(calc(-100% - #{$item-margin}));
        }

        100% {
            transform: translateX(0) translateY(0);
        }
    }

    @keyframes next-column {
        0% {
            transform: translateX(0);
        }

        100% {
            transform: translateX(100%);
        }
    }

    @keyframes next-column-rev {
        0% {
            transform: translateX(calc(-100% - #{$item-margin}));
        }

        100% {
            transform: translateX(0);
        }
    }

    /* ----------------------------------------------
 * Generated by Animista on 2020-2-20 14:48:58
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info.
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

    /**
 * ----------------------------------------
 * animation bounce-in-top
 * ----------------------------------------
 */
    @-webkit-keyframes bounce-in-top {
        0% {
            -webkit-transform: translateY(-500px);
            transform: translateY(-500px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
            opacity: 0;
        }
        38% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
            opacity: 1;
        }
        55% {
            -webkit-transform: translateY(-65px);
            transform: translateY(-65px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        72% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
        81% {
            -webkit-transform: translateY(-28px);
            transform: translateY(-28px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        90% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
        95% {
            -webkit-transform: translateY(-8px);
            transform: translateY(-8px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
    }
    @keyframes bounce-in-top {
        0% {
            -webkit-transform: translateY(-500px);
            transform: translateY(-500px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
            opacity: 0;
        }
        38% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
            opacity: 1;
        }
        55% {
            -webkit-transform: translateY(-65px);
            transform: translateY(-65px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        72% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
        81% {
            -webkit-transform: translateY(-28px);
            transform: translateY(-28px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        90% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
        95% {
            -webkit-transform: translateY(-8px);
            transform: translateY(-8px);
            -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
        }
        100% {
            -webkit-transform: translateY(0);
            transform: translateY(0);
            -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
        }
    }
}
