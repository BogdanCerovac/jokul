@import "~@fremtind/jkl-core/variables/_all.scss";
@import "~@fremtind/jkl-core/mixins/_helpers.scss";
@import "~@fremtind/jkl-core/_functions.scss";

$toggle-width: rem(72px);
$toggle-height: rem(40px);
$toggle-focus-outline-color: $himmel;

.jkl-toggle-switch {
    & input {
        opacity: 0;
        position: absolute;
    }
    position: relative;
    height: $toggle-height;
    display: flex;
    align-items: center;
    cursor: pointer;

    &__slider {
        @include position(absolute, $left: 0);
        cursor: pointer;
        width: $toggle-width;
        height: $toggle-height;
        box-sizing: border-box;
        background-color: transparent;
        border: 1px solid $svart;
        border-radius: $toggle-height / 2;
        &:after {
            @include position(absolute, $left: rem(9px), $top: 50%);
            transform: translateY(-50%);
            content: "";
            height: $toggle-height / 2;
            width: $toggle-height / 2;
            box-sizing: border-box;
            border-radius: $toggle-height / 2;
            background-color: $svart;
            transition: background-color 250ms ease-in, transform 150ms ease-in-out;
            border: 1px solid $svart;
        }
        &:before {
            content: "";
            @include position(absolute, $left: rem(28px), $right: rem(28px), $top: 50%);
            height: rem(1px);
            background-color: $svart;
        }
    }

    & input:checked + .jkl-toggle-switch__slider:after {
        background-color: $gress;
        transform: translate(rem(30px), -50%) scale(1.3);
    }

    html:not([data-mousenavigation]) & input:focus {
        + .jkl-toggle-switch__slider {
            box-shadow: 0 0 0 rem(2px) $sn√∏hvit, 0 0 0 rem(4px) $toggle-focus-outline-color;
        }
    }
    &__label {
        padding-left: $toggle-width + $component-spacing--xxl;
        margin-bottom: 0 !important; // needs to override paragraph spacing
        margin-top: rem(2px); // compensate for weird font baseline
    }
}
